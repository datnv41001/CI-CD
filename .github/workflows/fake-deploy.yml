name: CI + Fake Deploy (Demo Mode)

on:
  push:
    branches: [main, develop]
  pull_request:
    branches: [main, develop]

jobs:
  ci:
    name: ðŸ§ª CI Demo (no code)
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - name: ðŸª„ Simulate build pipeline
        run: |
          echo "=== Step 1: Lint ==="
          echo "No source code -> skip lint"
          echo "=== Step 2: Test ==="
          echo "No tests -> skip test"
          echo "=== Step 3: Build ==="
          mkdir -p dist
          echo "Hello from CI pipeline!" > dist/output.txt
          echo "Build done."
      - name: ðŸ“¦ Upload artifact
        uses: actions/upload-artifact@v4
        with:
          name: demo-dist
          path: dist

  fake_deploy:
    name: ðŸš€ Fake Deploy (no server)
    needs: ci
    runs-on: ubuntu-latest
    steps:
      - name: ðŸ“¥ Download artifact
        uses: actions/download-artifact@v4
        with:
          name: demo-dist
          path: ./release
      - name: ðŸ”§ Simulate deployment steps
        run: |
          echo "Deploying artifact to fake server..."
          ls -la ./release
          cat ./release/output.txt
          echo "Deployment complete âœ…"
